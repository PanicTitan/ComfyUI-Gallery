# ComfyUI Gallery

**Effortlessly Browse Your ComfyUI Image Outputs!**

This ComfyUI custom node provides a feature-rich, real-time gallery directly within your ComfyUI interface. View images, videos, and GIFs generated by your workflows, explore metadata, search, sort, move, share, and download files. Customize the gallery to your liking. No more digging through folders – your media output is instantly accessible and beautifully presented!

![ComfyUI Gallery Node in Action](showcase.gif)

> **Visualize your creative output directly in ComfyUI, unlock image metadata, and manage your files with ease!**

## Key Features:

*   **Real-time Gallery Updates:** Leveraging `watchdog`, the gallery instantly reflects new images, videos, and GIFs saved to your ComfyUI output folder – no manual refresh needed!
*   **Video and GIF Support:** Seamlessly displays and plays `.mp4`, `.webm` videos and `.gif` animations alongside your generated images.
*   **Image Metadata Inspection:** Extracts and displays detailed metadata embedded in your image files (PNG and JPEG).
*   **Enhanced Metadata Parser (v1.5.0):**  A new, more customizable and modular metadata parser provides more accurate and flexible extraction of workflow details.
*   **Easy Metadata Copy (v1.5.0):**  Click on any metadata value (e.g., prompt, seed, model) to instantly copy it to your clipboard.
*   **Detailed Media Information Window:** Click "Info" on image cards to access a popup with a larger preview, structured metadata, and navigation. Videos and GIFs open directly in fullscreen for playback.
*   **Image Navigation (v1.5.0):**  Easily navigate between images within the info view using previous and next buttons.
*   **Raw Metadata Viewer:**  Dive into the technical details with the "Show Raw Metadata" button.
*   **Powerful Search and Sort:**  Quickly locate media by filename search and organize your gallery.
*   **Move Files (v1.5.0):** Drag and drop images between folders directly within the gallery to reorganize your output.
*   **Delete Files (v1.5.0):** Delete unwanted images directly from the gallery with a confirmation prompt.
*   **Share Files (v1.5.0):** Share generated images directly from the gallery using the native sharing capabilities of your browser/device (Web Share API).
*   **Download Files (v1.5.0):** Download images with a single click, using the original filename.
*   **Asynchronous Image Loading (v1.5.0):** Images load asynchronously for a faster gallery startup and smoother browsing experience.
*   **Improved UI (v1.5.0):**  Refreshed user interface for better visual clarity, responsiveness, and usability, including a more intuitive info view and better handling of different screen sizes and zoom levels.
*   **Bug Fixes (v1.5.0):**  Addresses various bugs for improved stability and reliability.
*   **Customizable Settings:** Tailor the gallery with a dedicated settings panel:
    *   **Relative Path:** Change to your ComfyUI output path if no images appear.
    *   **Open Button Box Query:** Specify where the "Open Gallery" button is placed.
    *   **Open Button Label:** Personalize the text on the "Open Gallery" button.
    *   **Floating Button Mode:** Enable a draggable, floating "Open Gallery" button. Save its position across sessions.
    *   **Auto Play Videos:** Control whether videos automatically play.
    *   **Hide Open Button:** Hide/Show the Open Gallery Button

## Get Started:

**1. Installation:**

*   **Using ComfyUI Manager (Recommended):**
    *   Open ComfyUI Manager.
    *   Go to "Install Custom Nodes".
    *   Search for `ComfyUI-Gallery` and install.
    *   **Restart ComfyUI.**

*   **Install via Git URL:**
    *   Navigate to your `ComfyUI/custom_nodes` directory.
    *   Clone this repository:
        ```bash
        git clone https://github.com/PanicTitan/ComfyUI-Gallery.git
        ```
    *   **Restart ComfyUI.**

**2. Install Python Dependencies:**

*   **Using ComfyUI Manager (Recommended):** ComfyUI Manager might prompt you to install missing dependencies. Click "Install Missing".
*   **Manual Installation:**
    ```bash
    cd ComfyUI/custom_nodes/ComfyUI-Gallery
    pip install -r requirements.txt
    ```

**3. Using the Gallery:**

*   **Open Gallery:** Click the "Open Gallery" button (label and location customizable in settings) in your ComfyUI menu.
*   **Browse, Search, Sort:** Navigate folders, use the search bar, and sort images/media.
*   **View Media and Metadata:** Click on image cards to view larger previews and metadata. Click on video/GIF cards for fullscreen playback.  Click "Info" to access detailed metadata. Use the navigation buttons (< and >) to browse through images within the info view.
*   **Copy Metadata:** Click on any metadata value (e.g., prompt, seed) within the info view to copy it to the clipboard.
*   **Move Images:**  Click and drag an image card and drop it onto a folder in the left-hand navigation panel.
* **Delete Image:** Click on Info and click on the "Delete" button in the info view, then confirm the deletion.
*   **Share Image:** Click on Info, and in the image preview, click the "Share" icon button.
*   **Download Image:** Click on Info, and in the image preview, and click the "Download" icon button.
*   **Access Settings:** Click the "Settings" button in the gallery popup header.

## Changelog

*   **v1.5.0 (Major Update):**
    *   New metadata parser: More customizable, modular, and accurate.
    *   Easy metadata copy: Click any metadata value to copy.
    *   Move files: Drag and drop images between folders.
    *   Delete files: Delete images directly from the gallery.
    *   Share files:  Share images using the Web Share API.
    *   Download files: Download images with their original filenames.
    *   Image navigation: Browse images within the info view.
    *   Asynchronous image loading: Faster gallery startup.
    *   Improved UI: More responsive and user-friendly design.
    *   Bug fixes.
*   **Previous Versions:**
    *   Real-time Updates with Watchdog.
    *   Video and GIF Support.
    *   No More Gallery Node (UI-based access).
    *   Settings Panel.
    *   Improved Floating Button.

## Credits and Inspiration:

*   **ComfyUI:** [https://github.com/comfyanonymous/ComfyUI](https://github.com/comfyanonymous/ComfyUI)
*   **ComfyUI-Crystools Metadata Extraction:** [https://github.com/crystian/ComfyUI-Crystools](https://github.com/crystian/ComfyUI-Crystools)
*   **aiohttp:** [https://github.com/aio-libs/aiohttp](https://github.com/aio-libs/aiohttp)
*   **Pillow (PIL):** [https://python-pillow.org/](https://python-pillow.org/)
*   **ComfyUI Manager:** [https://github.com/ltdrdata/ComfyUI-Manager](https://github.com/ltdrdata/ComfyUI-Manager)

**Enjoy using the ComfyUI Gallery! Contributions, bug reports, and feature requests are welcome!**

<div align="center">
     <img src="logo.png" width="300" height="auto" alt="ComfyUI Gallery Viewer Logo">
</div>

---
*README.md Generated By AI Assistant ✨*